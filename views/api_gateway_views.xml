<odoo>


  <record id="view_api_token_form" model="ir.ui.view">
    <field name="name">api.token.form</field>
    <field name="model">api.token</field>
    <field name="arch" type="xml">
      <form>
        <sheet>
          <group>
            <field name="user_id"/>
            <field name="active"/>
            <field name="expire_at"/>
          </group>

          <group string="Roles">
              <field name="is_superuser"/>
              <field invisible="is_superuser" name="role_ids" widget="many2many_tags"/>
          </group>

          <group string="Allow Request">
              <field name="allowed_ips" />
              <field name="allowed_domains" />
          </group>

          <group string="Tokens">
            <field name="access_token"  readonly="1" />
            <field name="refresh_token" readonly="1" />
          </group>

        </sheet>
      </form>
    </field>
  </record>

  <record id="view_api_token_list" model="ir.ui.view">
    <field name="name">api.token.list</field>
    <field name="model">api.token</field>
    <field name="arch" type="xml">
      <list>
        <field name="user_id"/>
        <field name="expire_at"/>
        <field name="active"/>
      </list>
    </field>
  </record>

  <record id="action_api_token" model="ir.actions.act_window">
    <field name="name">API Tokens</field>
    <field name="res_model">api.token</field>
    <field name="view_mode">list,form</field>
  </record>

  <record id="action_api_role" model="ir.actions.act_window">
    <field name="name">API Roles</field>
    <field name="res_model">api.role</field>
    <field name="view_mode">list,form</field>
  </record>

  <menuitem id="menu_api_gateway_root"
    name="API Gateway Mobile v3"
    parent="base.menu_administration"
    groups="base.group_system" />

  <menuitem id="menu_api_tokens"
    name="API Tokens"
    parent="menu_api_gateway_root"
    action="action_api_token"
    groups="base.group_system" />


  <menuitem id="menu_api_roles"
    name="API Roles"
    parent="menu_api_gateway_root"
    action="action_api_role"
    groups="base.group_system" />

</odoo>